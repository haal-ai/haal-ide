{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://OLAF-xdlc.github.io/schemas/competency-collections.schema.json",
  "title": "OLAF Competency Collections",
  "description": "Schema for competency collections that define groupings of competencies for different personas and use cases",
  "type": "object",
  "required": ["collections", "metadata"],
  "properties": {
    "collections": {
      "type": "array",
      "description": "Array of competency collection definitions",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": ["id", "name", "description", "competencies", "locked", "created"],
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the collection (kebab-case)",
            "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$",
            "examples": ["core", "developer", "business-analyst", "all"]
          },
          "name": {
            "type": "string",
            "description": "Human-readable name of the collection",
            "minLength": 3,
            "examples": ["Core/Always-On", "Developer Persona", "All Competencies"]
          },
          "description": {
            "type": "string",
            "description": "Description of the collection's purpose and target users",
            "minLength": 10
          },
          "competencies": {
            "type": "array",
            "description": "List of competency IDs included in this collection",
            "minItems": 1,
            "items": {
              "type": "string",
              "description": "Competency ID (kebab-case)",
              "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
            },
            "uniqueItems": true
          },
          "locked": {
            "type": "boolean",
            "description": "Whether this collection can be modified or deleted (true = immutable)"
          },
          "exposure": {
            "type": "string",
            "description": "Collection visibility level controlling bundling and export",
            "enum": ["public", "private", "internal"],
            "default": "public"
          },
          "created": {
            "type": "string",
            "description": "Creation date in YYYY-MM-DD format",
            "format": "date",
            "examples": ["2025-10-21", "2025-11-12"]
          },
          "notes": {
            "type": "string",
            "description": "Additional notes about the collection"
          },
          "persona": {
            "type": "string",
            "description": "Target persona for this collection",
            "examples": ["developer", "architect", "business-analyst", "project-manager"]
          },
          "tags": {
            "type": "array",
            "description": "Tags for categorization and search",
            "items": {
              "type": "string"
            }
          }
        },
        "additionalProperties": true
      }
    },
    "metadata": {
      "type": "object",
      "description": "Metadata about the collections file",
      "required": ["version", "description"],
      "properties": {
        "version": {
          "type": "string",
          "description": "Schema version (semantic versioning)",
          "pattern": "^\\d+\\.\\d+\\.\\d+$",
          "examples": ["1.0.0"]
        },
        "lastUpdated": {
          "type": "string",
          "description": "ISO 8601 timestamp of last update",
          "examples": ["2025-11-12T13:19:00.201522", "2025-11-12T13:19:00.201522Z"]
        },
        "active_collection": {
          "type": "string",
          "description": "ID of the currently active/selected collection",
          "pattern": "^[a-z0-9]+(-[a-z0-9]+)*$"
        },
        "description": {
          "type": "string",
          "description": "Description of the collections system"
        },
        "notes": {
          "type": "array",
          "description": "System-level notes about collections",
          "items": {
            "type": "string"
          }
        }
      },
      "additionalProperties": true
    },
    "last_updated": {
      "type": "string",
      "description": "ISO 8601 timestamp of last update (deprecated, use metadata.lastUpdated)",
      "examples": ["2025-11-12T13:19:00.188766"]
    }
  },
  "additionalProperties": true
}

